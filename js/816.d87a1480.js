"use strict";(self["webpackChunkjoinbrants_test_assignment"]=self["webpackChunkjoinbrants_test_assignment"]||[]).push([[816],{586:function(e,t,r){r.d(t,{Z:function(){return l}});var o=r(3396);function a(e,t,r,a,i,n){return(0,o.wg)(),(0,o.iD)("button",{class:"button text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[(0,o.WI)(e.$slots,"default",{},void 0,!0)])}var i=(0,o.aZ)({name:"UiButton",methods:{onClick(e){e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.$emit("click")}}}),n=r(89);const s=(0,n.Z)(i,[["render",a],["__scopeId","data-v-4a25d152"]]);var l=s},5343:function(e,t,r){r.d(t,{Z:function(){return p}});var o=r(3396),a=r(7139);const i=["for"],n={class:"header"},s={key:0,class:"required"},l=["id","value","type"];function d(e,t,r,d,u,m){return(0,o.wg)(),(0,o.iD)("div",{class:(0,a.C_)(["ui-input",{error:e.error}])},[(0,o._)("label",{for:e.guid},[(0,o._)("div",n,[(0,o.Uk)((0,a.zw)(e.label)+" ",1),e.required?((0,o.wg)(),(0,o.iD)("div",s," * ")):(0,o.kq)("",!0)]),(0,o._)("input",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",id:e.guid,value:e.modelValue,type:e.type,onPaste:t[0]||(t[0]=(...t)=>e.handleInput&&e.handleInput(...t)),onInput:t[1]||(t[1]=(...t)=>e.handleInput&&e.handleInput(...t))},null,40,l)],8,i)],2)}var u=r(4347),m=(0,o.aZ)({inject:["formId"],name:"UiInput",components:{},props:{label:String,type:{type:String,default:"text"},modelValue:[Number,String],required:Boolean,regex:String},emits:["update:modelValue"],data:()=>({error:!1,guid:(0,u.SF)()}),methods:{handleInput(e){null!==e.target&&(this.$emit("update:modelValue",e.target.value),this.error=!1)},onSave(){this.$formBus.emit(`${this.formId}input:save`,new Promise(((e,t)=>{this.error=!1,!this.required||void 0!==this.modelValue&&null!==this.modelValue||(this.error=!0,t(new Error(`${this.label} required`))),void 0!==this.modelValue&&this.regex&&this.regex.length&&!new RegExp(this.regex).test(this.modelValue.toString())&&(console.log(this.regex,!new RegExp(this.regex).test(this.modelValue.toString()),this.modelValue),this.error=!0,t(new Error(`error in ${this.label} field`))),e(!0)})))}},beforeUnmount(){this.$formBus.off(`${this.formId}save`,this.onSave.bind(this))},beforeMount(){this.$formBus.on(`${this.formId}save`,this.onSave.bind(this))},mounted(){console.log(this.formId)},setup(){const e=(0,o.f3)("formId");return{formId:e}}}),h=r(89);const c=(0,h.Z)(m,[["render",d],["__scopeId","data-v-fb4ef724"]]);var p=c},6816:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var o=r(3396),a=r(7139);const i={class:"sign-in-container"},n={class:"body"},s={key:0,class:"error-container"};function l(e,t,r,l,d,u){const m=(0,o.up)("UiInput"),h=(0,o.up)("UiButton");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",n,[(0,o.Wm)(m,{required:"",label:"email",type:"email",modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t)},null,8,["modelValue"]),(0,o.Wm)(m,{required:"",label:"password",type:"password",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t)},null,8,["modelValue"]),e.showError?((0,o.wg)(),(0,o.iD)("div",s,(0,a.zw)(e.errorLabel),1)):(0,o.kq)("",!0),(0,o.Wm)(h,{onClick:e.sendForm},{default:(0,o.w5)((()=>[(0,o.Uk)(" SignUp ")])),_:1},8,["onClick"])])])}r(7658);var d=r(5343),u=r(586),m=r(3764),h=r(4347),c=(0,o.aZ)({name:"SignUp",provide(){return{formId:this.formId}},components:{UiButton:u.Z,UiInput:d.Z},data:()=>({email:"",password:"",validationArray:new Array,validating:!1,errorLabel:"",formId:(0,h.SF)()}),computed:{showError(){return!!this.errorLabel.length}},methods:{async wait(){return new Promise((e=>{setTimeout((()=>{e(!0)}),250)}))},async logIn(){return!0},async validate(){this.validating=!0,this.$formBus.on("input:save",this.handleSaveEvent.bind(this)),this.$formBus.emit("save"),this.wait(),this.$formBus.off("input:save",this.handleSaveEvent.bind(this));try{await Promise.all(this.validationArray)}catch(e){return console.error(e),!1}return!0},async sendForm(){const e=await this.validate();if(e){const e=await m.Z.login({email:this.email,password:this.password});!e.result&&e.data.message?this.errorLabel=e.data.message:(console.log(this.$router),await this.$router.push({name:"Profile"}))}else console.log("error")},handleSaveEvent(e){this.validationArray.push(e)}}}),p=r(89);const g=(0,p.Z)(c,[["render",l],["__scopeId","data-v-1f6c5407"]]);var f=g}}]);
//# sourceMappingURL=816.d87a1480.js.map