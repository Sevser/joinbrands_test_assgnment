"use strict";(self["webpackChunkjoinbrants_test_assignment"]=self["webpackChunkjoinbrants_test_assignment"]||[]).push([[317],{586:function(e,t,r){r.d(t,{Z:function(){return d}});var o=r(3396);function s(e,t,r,s,a,n){return(0,o.wg)(),(0,o.iD)("button",{class:"button text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[(0,o.WI)(e.$slots,"default",{},void 0,!0)])}var a=(0,o.aZ)({name:"UiButton",methods:{onClick(e){e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.$emit("click")}}}),n=r(89);const i=(0,n.Z)(a,[["render",s],["__scopeId","data-v-4a25d152"]]);var d=i},5343:function(e,t,r){r.d(t,{Z:function(){return c}});var o=r(3396),s=r(7139);const a=["for"],n={class:"header"},i={key:0,class:"required"},d=["id","value","type"];function u(e,t,r,u,l,h){return(0,o.wg)(),(0,o.iD)("div",{class:(0,s.C_)(["ui-input",{error:e.error}])},[(0,o._)("label",{for:e.guid},[(0,o._)("div",n,[(0,o.Uk)((0,s.zw)(e.label)+" ",1),e.required?((0,o.wg)(),(0,o.iD)("div",i," * ")):(0,o.kq)("",!0)]),(0,o._)("input",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",id:e.guid,value:e.modelValue,type:e.type,onPaste:t[0]||(t[0]=(...t)=>e.handleInput&&e.handleInput(...t)),onInput:t[1]||(t[1]=(...t)=>e.handleInput&&e.handleInput(...t))},null,40,d)],8,a)],2)}var l=r(4347),h=(0,o.aZ)({inject:["formId"],name:"UiInput",components:{},props:{label:String,type:{type:String,default:"text"},modelValue:[Number,String],required:Boolean,regex:String},emits:["update:modelValue"],data:()=>({error:!1,guid:(0,l.SF)()}),methods:{handleInput(e){null!==e.target&&(this.$emit("update:modelValue",e.target.value),this.error=!1)},onSave(){this.$formBus.emit(`${this.formId}input:save`,new Promise(((e,t)=>{this.error=!1,!this.required||void 0!==this.modelValue&&null!==this.modelValue||(this.error=!0,t(new Error(`${this.label} required`))),void 0!==this.modelValue&&this.regex&&this.regex.length&&!new RegExp(this.regex).test(this.modelValue.toString())&&(console.log(this.regex,!new RegExp(this.regex).test(this.modelValue.toString()),this.modelValue),this.error=!0,t(new Error(`error in ${this.label} field`))),e(!0)})))}},beforeUnmount(){this.$formBus.off(`${this.formId}save`,this.onSave.bind(this))},beforeMount(){this.$formBus.on(`${this.formId}save`,this.onSave.bind(this))},mounted(){console.log(this.formId)},setup(){const e=(0,o.f3)("formId");return{formId:e}}}),m=r(89);const p=(0,m.Z)(h,[["render",u],["__scopeId","data-v-fb4ef724"]]);var c=p},2317:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var o=r(3396);const s={class:"change-password-container"},a={class:"body"};function n(e,t,r,n,i,d){const u=(0,o.up)("UiInput"),l=(0,o.up)("UiButton");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",a,[(0,o.Wm)(u,{required:"",label:"old password",type:"password",modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=t=>e.password=t)},null,8,["modelValue"]),(0,o.Wm)(u,{required:"",label:"new password",type:"password",regex:"^[^\\s]{6}$",modelValue:e.newPassword,"onUpdate:modelValue":t[1]||(t[1]=t=>e.newPassword=t)},null,8,["modelValue"]),(0,o.Wm)(l,{onClick:e.sendForm},{default:(0,o.w5)((()=>[(0,o.Uk)(" Update password ")])),_:1},8,["onClick"])])])}r(7658);var i=r(5343),d=r(586),u=r(3764),l=r(4347),h=(0,o.aZ)({name:"SignUp",provide(){return{formId:this.formId}},components:{UiButton:d.Z,UiInput:i.Z},props:{code:String},data:()=>({validationArray:new Array,validating:!1,password:"",newPassword:"",formId:(0,l.SF)()}),computed:{showCurrentPassword(){return console.log(this.code),void 0===this.code}},methods:{async validate(){this.validationArray=[],this.$formBus.emit(`${this.formId}save`),await this.wait();try{await Promise.all(this.validationArray)}catch(e){return console.error(e),!1}return!0},handleSaveEvent(e){this.validationArray.push(e)},async sendForm(){const e=await this.validate();if(e){const e=await u.Z.changePassword({newPassword:this.newPassword,password:this.password});e.result&&this.$router.push({name:"Profile"})}}},beforeMount(){this.$formBus.on(`${this.formId}input:save`,this.handleSaveEvent.bind(this))},beforeUnmount(){this.$formBus.off(`${this.formId}input:save`,this.handleSaveEvent.bind(this))},mounted(){console.log(this.code)},setup(){return(0,o.f3)("wait"),{wait:l.Dc}}}),m=r(89);const p=(0,m.Z)(h,[["render",n],["__scopeId","data-v-748ce540"]]);var c=p}}]);
//# sourceMappingURL=317.f07d748d.js.map